<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mario Venegas, Nasser Alshaya and Daniel Avila">

<title>Final Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="final_project_files/libs/clipboard/clipboard.min.js"></script>
<script src="final_project_files/libs/quarto-html/quarto.js"></script>
<script src="final_project_files/libs/quarto-html/popper.min.js"></script>
<script src="final_project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="final_project_files/libs/quarto-html/anchor.min.js"></script>
<link href="final_project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="final_project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="final_project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="final_project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="final_project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#cta-routes-data" id="toc-cta-routes-data" class="nav-link active" data-scroll-target="#cta-routes-data">CTA Routes Data</a></li>
  <li><a href="#divvy-and-spatial-data" id="toc-divvy-and-spatial-data" class="nav-link" data-scroll-target="#divvy-and-spatial-data">Divvy and Spatial Data</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Project</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mario Venegas, Nasser Alshaya and Daniel Avila </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>Note: some chuncks were commeneted out because of the size of the files which cannot be pushed to the repo, all files are included in a Drive link</p>
<p><strong><a href="https://drive.google.com/drive/u/0/folders/1q9t4VtaZ1b81MvYmoRcrrbEFFR_3E8qz">Drive</a></strong></p>
<section id="cta-routes-data" class="level2">
<h2 class="anchored" data-anchor-id="cta-routes-data">CTA Routes Data</h2>
<ol type="1">
<li></li>
</ol>
<div id="0c3f76dd" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>bus_routes <span class="op">=</span> pd.read_csv(<span class="st">'data/cta_br.csv'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Restrict the data to routes 171 and 172</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>bus_routes <span class="op">=</span> bus_routes[bus_routes[<span class="st">'route'</span>].isin([<span class="st">'171'</span>, <span class="st">'172'</span>])].copy()</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># From 2018 onwards</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>bus_routes[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(bus_routes[<span class="st">'date'</span>])</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>bus_routes <span class="op">=</span> bus_routes[bus_routes[<span class="st">'date'</span>] <span class="op">&gt;=</span> <span class="st">'2018-01-01'</span>]</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>bus_routes.head()</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of of observations</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>row_count <span class="op">=</span> bus_routes.shape[<span class="dv">0</span>]</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Number of rows: </span><span class="sc">{</span>row_count<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of rows: 4366</code></pre>
</div>
</div>
<ol start="2" type="1">
<li></li>
</ol>
<div id="c219ed80" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year and month</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bus_routes[<span class="st">'year'</span>] <span class="op">=</span> bus_routes[<span class="st">'date'</span>].dt.year</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>bus_routes[<span class="st">'month'</span>] <span class="op">=</span> bus_routes[<span class="st">'date'</span>].dt.month</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by year and month, and count rows</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>cta_grouped <span class="op">=</span> bus_routes.groupby([<span class="st">'route'</span>, <span class="st">'date'</span>])[<span class="st">'rides'</span>].<span class="bu">sum</span>().reset_index(name<span class="op">=</span><span class="st">'rides'</span>) </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># The data is uploaded daily for each of the routes, this is why the count is twice as much as the days in each month. </span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the filtered data by the 'date' column</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>bus_routes <span class="op">=</span> bus_routes.sort_values(by<span class="op">=</span><span class="st">'date'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li></li>
</ol>
<div id="293cb4de" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Taking the above code block, finding the average for each month, from 2018 to 2024, and plotting this.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>months <span class="op">=</span> {</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="st">"January"</span>, </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="st">"February"</span>, </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="st">"March"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>: <span class="st">"April"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>: <span class="st">"May"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>: <span class="st">"June"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">7</span>: <span class="st">"July"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">8</span>: <span class="st">"August"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">9</span>: <span class="st">"September"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">10</span>: <span class="st">"October"</span>, </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">11</span>: <span class="st">"November"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">12</span>: <span class="st">"December"</span>}</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>cta_grouped[<span class="st">"month"</span>] <span class="op">=</span> cta_grouped[<span class="st">"date"</span>].dt.month</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>cta_grouped[<span class="st">"year"</span>] <span class="op">=</span> cta_grouped[<span class="st">"date"</span>].dt.year</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>cta_grouped <span class="op">=</span> cta_grouped.groupby([<span class="st">"month"</span>, <span class="st">"year"</span>])[<span class="st">"rides"</span>].<span class="bu">sum</span>().reset_index(name <span class="op">=</span> <span class="st">"rides"</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>cta_grouped[<span class="st">"month"</span>] <span class="op">=</span> cta_grouped[<span class="st">"month"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: months[x])</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>average_ridership_list <span class="op">=</span> []</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>months_list <span class="op">=</span> []</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> month <span class="kw">in</span> cta_grouped[<span class="st">"month"</span>].unique():</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    average_ridership <span class="op">=</span> cta_grouped[cta_grouped[<span class="st">"month"</span>] <span class="op">==</span> month]</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    average_ridership <span class="op">=</span> average_ridership[<span class="st">"rides"</span>].mean()</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    average_ridership_list.append(<span class="bu">round</span>(average_ridership, <span class="dv">2</span>))</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    months_list.append(month)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>average_ridership_df <span class="op">=</span> pd.DataFrame({<span class="st">"monthly_avg_riders"</span>: average_ridership_list,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"month"</span>: months_list})</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a><span class="co"># making the bar graph</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>bar_chart <span class="op">=</span> alt.Chart(average_ridership_df).mark_bar().encode(</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'month:N'</span>, sort<span class="op">=</span>[<span class="st">'January'</span>, <span class="st">'February'</span>, <span class="st">'March'</span>, <span class="st">'April'</span>, <span class="st">'May'</span>, <span class="st">'June'</span>, <span class="st">'July'</span>, </span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'August'</span>, <span class="st">'September'</span>, <span class="st">'October'</span>, <span class="st">'November'</span>, <span class="st">'December'</span>]),  </span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'monthly_avg_riders:Q'</span>,</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>, </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>  </span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co"># heatmap of month on x axis and year on y axis</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>heatmap <span class="op">=</span> alt.Chart(cta_grouped).mark_rect().encode(</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'month:N'</span>, title<span class="op">=</span><span class="st">'Month'</span>),</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'year:O'</span>, title<span class="op">=</span><span class="st">'Year'</span>), </span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    color <span class="op">=</span> alt.Color(<span class="st">"rides"</span>)</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>bar_chart <span class="op">|</span> heatmap</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">

<style>
  #altair-viz-e0f23c7de2074037a896463def5deaea.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-e0f23c7de2074037a896463def5deaea.vega-embed details,
  #altair-viz-e0f23c7de2074037a896463def5deaea.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-e0f23c7de2074037a896463def5deaea"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-e0f23c7de2074037a896463def5deaea") {
      outputDiv = document.getElementById("altair-viz-e0f23c7de2074037a896463def5deaea");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"data": {"name": "data-96fe567dc6400126c14f3997758dec27"}, "mark": {"type": "bar"}, "encoding": {"x": {"field": "month", "sort": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], "type": "nominal"}, "y": {"field": "monthly_avg_riders", "type": "quantitative"}}, "height": 400, "width": 800}, {"data": {"name": "data-8b23c574e9eddc7a5469d9695764f044"}, "mark": {"type": "rect"}, "encoding": {"color": {"field": "rides", "type": "quantitative"}, "x": {"field": "month", "title": "Month", "type": "nominal"}, "y": {"field": "year", "title": "Year", "type": "ordinal"}}, "height": 400, "width": 800}], "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json", "datasets": {"data-96fe567dc6400126c14f3997758dec27": [{"monthly_avg_riders": 59738.86, "month": "January"}, {"monthly_avg_riders": 61099.43, "month": "February"}, {"monthly_avg_riders": 52487.86, "month": "March"}, {"monthly_avg_riders": 52584.0, "month": "April"}, {"monthly_avg_riders": 49431.71, "month": "May"}, {"monthly_avg_riders": 20879.0, "month": "June"}, {"monthly_avg_riders": 12663.71, "month": "July"}, {"monthly_avg_riders": 15146.14, "month": "August"}, {"monthly_avg_riders": 34764.33, "month": "September"}, {"monthly_avg_riders": 65539.83, "month": "October"}, {"monthly_avg_riders": 54531.67, "month": "November"}, {"monthly_avg_riders": 33533.33, "month": "December"}], "data-8b23c574e9eddc7a5469d9695764f044": [{"month": "January", "year": 2018, "rides": 86799}, {"month": "January", "year": 2019, "rides": 79295}, {"month": "January", "year": 2020, "rides": 85219}, {"month": "January", "year": 2021, "rides": 12151}, {"month": "January", "year": 2022, "rides": 38988}, {"month": "January", "year": 2023, "rides": 58932}, {"month": "January", "year": 2024, "rides": 56788}, {"month": "February", "year": 2018, "rides": 71904}, {"month": "February", "year": 2019, "rides": 82702}, {"month": "February", "year": 2020, "rides": 83837}, {"month": "February", "year": 2021, "rides": 15826}, {"month": "February", "year": 2022, "rides": 56090}, {"month": "February", "year": 2023, "rides": 64326}, {"month": "February", "year": 2024, "rides": 53011}, {"month": "March", "year": 2018, "rides": 76806}, {"month": "March", "year": 2019, "rides": 68813}, {"month": "March", "year": 2020, "rides": 45512}, {"month": "March", "year": 2021, "rides": 15737}, {"month": "March", "year": 2022, "rides": 55926}, {"month": "March", "year": 2023, "rides": 55458}, {"month": "March", "year": 2024, "rides": 49163}, {"month": "April", "year": 2018, "rides": 84029}, {"month": "April", "year": 2019, "rides": 85297}, {"month": "April", "year": 2020, "rides": 4933}, {"month": "April", "year": 2021, "rides": 15921}, {"month": "April", "year": 2022, "rides": 53558}, {"month": "April", "year": 2023, "rides": 61363}, {"month": "April", "year": 2024, "rides": 62987}, {"month": "May", "year": 2018, "rides": 76746}, {"month": "May", "year": 2019, "rides": 84677}, {"month": "May", "year": 2020, "rides": 4468}, {"month": "May", "year": 2021, "rides": 16560}, {"month": "May", "year": 2022, "rides": 54684}, {"month": "May", "year": 2023, "rides": 55380}, {"month": "May", "year": 2024, "rides": 53507}, {"month": "June", "year": 2018, "rides": 34373}, {"month": "June", "year": 2019, "rides": 38357}, {"month": "June", "year": 2020, "rides": 4023}, {"month": "June", "year": 2021, "rides": 11925}, {"month": "June", "year": 2022, "rides": 19929}, {"month": "June", "year": 2023, "rides": 21560}, {"month": "June", "year": 2024, "rides": 15986}, {"month": "July", "year": 2018, "rides": 18059}, {"month": "July", "year": 2019, "rides": 17877}, {"month": "July", "year": 2020, "rides": 1653}, {"month": "July", "year": 2021, "rides": 5857}, {"month": "July", "year": 2022, "rides": 10447}, {"month": "July", "year": 2023, "rides": 23073}, {"month": "July", "year": 2024, "rides": 11680}, {"month": "August", "year": 2018, "rides": 19755}, {"month": "August", "year": 2019, "rides": 15802}, {"month": "August", "year": 2020, "rides": 1860}, {"month": "August", "year": 2021, "rides": 6282}, {"month": "August", "year": 2022, "rides": 17221}, {"month": "August", "year": 2023, "rides": 28112}, {"month": "August", "year": 2024, "rides": 16991}, {"month": "September", "year": 2018, "rides": 46320}, {"month": "September", "year": 2019, "rides": 47574}, {"month": "September", "year": 2020, "rides": 7044}, {"month": "September", "year": 2021, "rides": 27171}, {"month": "September", "year": 2022, "rides": 42059}, {"month": "September", "year": 2023, "rides": 38418}, {"month": "October", "year": 2018, "rides": 95181}, {"month": "October", "year": 2019, "rides": 94919}, {"month": "October", "year": 2020, "rides": 12617}, {"month": "October", "year": 2021, "rides": 63383}, {"month": "October", "year": 2022, "rides": 68190}, {"month": "October", "year": 2023, "rides": 58949}, {"month": "November", "year": 2018, "rides": 87670}, {"month": "November", "year": 2019, "rides": 81649}, {"month": "November", "year": 2020, "rides": 10575}, {"month": "November", "year": 2021, "rides": 51060}, {"month": "November", "year": 2022, "rides": 48761}, {"month": "November", "year": 2023, "rides": 47475}, {"month": "December", "year": 2018, "rides": 52254}, {"month": "December", "year": 2019, "rides": 52359}, {"month": "December", "year": 2020, "rides": 9383}, {"month": "December", "year": 2021, "rides": 28592}, {"month": "December", "year": 2022, "rides": 30599}, {"month": "December", "year": 2023, "rides": 28013}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<ol start="4" type="1">
<li>Divvy ridership</li>
</ol>
<p><strong>This chunck was commented out and all data can be found on Drive</strong></p>
<div id="43401e68" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Up to 2020, the information was uploaded quarterly, after this, it started to be uploaded monthly. Before merging the data, it is necessary to explore the data bases. All these data sets are included in the divy_data folder in the Drive</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Quarterly data base:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">quarterly_sample = pd.read_csv('divvy_data/Divvy_Trips_2020_Q1.csv')</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">print(quarterly_sample.head())</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Monthly data base:</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">monthly_sample = pd.read_csv('divvy_data/202004-divvy-tripdata.csv')</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">print(monthly_sample.head())</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="divvy-and-spatial-data" class="level2">
<h2 class="anchored" data-anchor-id="divvy-and-spatial-data">Divvy and Spatial Data</h2>
<ol start="5" type="1">
<li></li>
</ol>
<div id="fc27f938" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry <span class="im">import</span> shape, Point</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Data base containing geometry information about Chicago</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>chicago_areas <span class="op">=</span> pd.read_csv(<span class="st">'data/chicago_areas.csv'</span>) </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Data base containing geographic information of Divvy docking stations</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>stations_gdf <span class="op">=</span> gpd.read_file(<span class="st">'Divvy stations/divvy_stations.shp'</span>) </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure the shapefile has a valid CRS</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>stations_gdf <span class="op">=</span> stations_gdf.to_crs(<span class="st">"EPSG:4326"</span>) </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the geometry column in chicago_areas to shapely geometry to make it compatible with the station_gdf df. </span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.wkt <span class="im">import</span> loads</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the 'geometry' column to actual shapely geometry</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>chicago_areas[<span class="st">'the_geom'</span>] <span class="op">=</span> chicago_areas[<span class="st">'the_geom'</span>].<span class="bu">apply</span>(loads)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to a GeoDataFrame</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>chicago_areas <span class="op">=</span> gpd.GeoDataFrame(chicago_areas, geometry<span class="op">=</span><span class="st">'the_geom'</span>, crs<span class="op">=</span><span class="st">"EPSG:4326"</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Limit geographic location to Hyde Park</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>hyde_park <span class="op">=</span> chicago_areas[chicago_areas[<span class="st">'COMMUNITY'</span>] <span class="op">==</span> <span class="st">'HYDE PARK'</span>]</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform spatial joint to print the name of the Divvy Stations in Hyde Park</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure both GeoDataFrames have the same CRS</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>stations_gdf <span class="op">=</span> stations_gdf.to_crs(hyde_park.crs)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform spatial join</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>stations_in_hp <span class="op">=</span> gpd.sjoin(stations_gdf, hyde_park, predicate<span class="op">=</span><span class="st">'within'</span>)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the name of the bike stations</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>unique_stations <span class="op">=</span> stations_in_hp[<span class="st">'station_na'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li></li>
</ol>
<p>6.1.</p>
<p><strong>This chunk was commented out to speed up the knitting process, large files found on Drive</strong></p>
<div id="57696ac4" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Monthly_data</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the folder that contains all the quarterly and monthly information of divvy trips</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">folder_path = 'divvy_data'</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># List of unique stations in Hyde Park</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">unique_stations = ['Cornell Ave &amp; Hyde Park Blvd', 'Griffin Museum of Science and Industry', </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">'Blackstone Ave &amp; 59th St' 'Ellis Ave &amp; 58th St', 'University Ave &amp; 59th St','University Ave &amp; 57th St', </span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">'Ellis Ave &amp; 53rd St','Lake Park Ave &amp; 53rd St','Lake Park Ave &amp; 56th St', 'Ellis Ave &amp; 55th St',</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">'Harper Ave &amp; 59th St','Woodlawn Ave &amp; 55th St', 'Kimbark Ave &amp; 53rd St','Woodlawn Ave &amp; 58th St',</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">'Shore Dr &amp; 55th St']</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># List to hold the filtered DataFrames</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co">filtered_data = []</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files in the folder</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co">for file_name in os.listdir(folder_path):</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">    # Ensure only CSV files are processed</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">    if file_name.endswith('.csv'):</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">        file_path = os.path.join(folder_path, file_name)</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co">        # Read the current CSV file</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co">        df = pd.read_csv(file_path)</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co">        # Check if 'start_station_name' and 'end_station_name' columns exist</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="co">        if {'start_station_name', 'end_station_name'}.issubset(df.columns):</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="co">            # Filter rows where both start and end stations are in unique_stations</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="co">            filtered_df = df[</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co">                df['start_station_name'].isin(unique_stations) &amp; </span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co">                df['end_station_name'].isin(unique_stations)</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co">            ]</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co">            </span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="co">            # Append the filtered DataFrame to the list</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co">            filtered_data.append(filtered_df)</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all filtered DataFrames into one</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co">if filtered_data:</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a><span class="co">    monthly_divvy_df = pd.concat(filtered_data, ignore_index=True)</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a><span class="co">    print("All files have been processed and merged.")</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a><span class="co">    # Save the final merged DataFrame to a new CSV</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a><span class="co">    monthly_divvy_df.to_csv('Monthly_Bike_Trips.csv', index=False)</span></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a><span class="co">    print("Filtered data saved to 'Monthly_Bike_Trips.csv'.")</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="co">else:</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co">    print("No data was filtered or no files were processed.")</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>6.2.</p>
<p><strong>This chunk was commented out to speed up the knitting process, large files found on Drive</strong></p>
<div id="b72047f9" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Quarterly</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the folder that contains all the quarterly and monthly information of divvy trips</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">folder_path = 'divvy_data'</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># List of unique stations in Hyde Park</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">unique_stations = ['Cornell Ave &amp; Hyde Park Blvd', 'Griffin Museum of Science and Industry', </span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">'Blackstone Ave &amp; 59th St', 'Ellis Ave &amp; 58th St', 'University Ave &amp; 59th St','University Ave &amp; 57th St', </span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">'Ellis Ave &amp; 53rd St','Lake Park Ave &amp; 53rd St','Lake Park Ave &amp; 56th St', 'Ellis Ave &amp; 55th St',</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">'Harper Ave &amp; 59th St','Woodlawn Ave &amp; 55th St', 'Kimbark Ave &amp; 53rd St','Woodlawn Ave &amp; 58th St',</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">'Shore Dr &amp; 55th St']</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># List to hold the filtered DataFrames</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co">filtered_data = []</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files in the folder</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">for file_name in os.listdir(folder_path):</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">    # Ensure only CSV files are processed</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co">    if file_name.endswith('.csv'):</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co">        file_path = os.path.join(folder_path, file_name)</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co">        # Read the current CSV file</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co">        df = pd.read_csv(file_path)</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="co">        # Check if 'from_station_name' and 'to_station_name' columns exist</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co">        if {'from_station_name', 'to_station_name'}.issubset(df.columns):</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="co">            # Filter rows where both start and end stations are in unique_stations</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co">            filtered_df = df[</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="co">                df['from_station_name'].isin(unique_stations) &amp; </span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="co">                df['to_station_name'].isin(unique_stations)</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="co">            ]</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="co">            </span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="co">            # Append the filtered DataFrame to the list</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="co">            filtered_data.append(filtered_df)</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all filtered DataFrames into one</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="co">if filtered_data:</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="co">    divvy_df = pd.concat(filtered_data, ignore_index=True)</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="co">    print("All files have been processed and merged.")</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="co">    # Save the final merged DataFrame to a new CSV</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="co">    divvy_df.to_csv('Quarterly_Bike_Trips.csv', index=False)</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a><span class="co">    print("Filtered data saved to 'Quarterly_Bike_Trips.csv'.")</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a><span class="co">else:</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a><span class="co">    print("No data was filtered or no files were processed.")</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>6.3.</p>
<p><strong>This chunk was commented out to speed up the knitting process, large files found on Drive</strong></p>
<div id="53e97d2b" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Quarterly 2. Two of the data sets have different column names</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Name the folder that contains all the quarterly and monthly information of divvy trips</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">folder_path = 'divvy_data'</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># List of unique stations in Hyde Park</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">unique_stations = ['Cornell Ave &amp; Hyde Park Blvd', 'Griffin Museum of Science and Industry', </span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co">'Blackstone Ave &amp; 59th St', 'Ellis Ave &amp; 58th St', 'University Ave &amp; 59th St','University Ave &amp; 57th St', </span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co">'Ellis Ave &amp; 53rd St','Lake Park Ave &amp; 53rd St','Lake Park Ave &amp; 56th St', 'Ellis Ave &amp; 55th St',</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">'Harper Ave &amp; 59th St','Woodlawn Ave &amp; 55th St', 'Kimbark Ave &amp; 53rd St','Woodlawn Ave &amp; 58th St',</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">'Shore Dr &amp; 55th St']</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># List to hold the filtered DataFrames</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co">filtered_data = []</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files in the folder</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co">for file_name in os.listdir(folder_path):</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co">    # Ensure only CSV files are processed</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="co">    if file_name.endswith('.csv'):</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co">        file_path = os.path.join(folder_path, file_name)</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co">        # Read the current CSV file</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="co">        df = pd.read_csv(file_path)</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a><span class="co">        </span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co">        # Check if '03 - Rental Start Station Name' and '02 - Rental End Station Name' columns exist</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="co">        if {'03 - Rental Start Station Name', '02 - Rental End Station Name'}.issubset(df.columns):</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="co">            # Filter rows where both start and end stations are in unique_stations</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="co">            filtered_df = df[</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="co">                df['03 - Rental Start Station Name'].isin(unique_stations) &amp; </span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co">                df['02 - Rental End Station Name'].isin(unique_stations)</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="co">            ]</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a><span class="co">            </span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a><span class="co">            # Append the filtered DataFrame to the list</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a><span class="co">            filtered_data.append(filtered_df)</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all filtered DataFrames into one</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a><span class="co">if filtered_data:</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a><span class="co">    divvy_df = pd.concat(filtered_data, ignore_index=True)</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a><span class="co">    print("All files have been processed and merged.")</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a><span class="co">    # Save the final merged DataFrame to a new CSV</span></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a><span class="co">    divvy_df.to_csv('Quarterly_Bike_Trips_2.csv', index=False)</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a><span class="co">    print("Filtered data saved to 'Quarterly_Bike_Trips_2.csv'.")</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a><span class="co">else:</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a><span class="co">    print("No data was filtered or no files were processed.")</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a><span class="co">'''</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="7" type="1">
<li></li>
</ol>
<div id="065d0baf" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This code cell is just naming the dataframes so that we can merge them later.</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># In the Monthly data set, we care about the columns: 'started_at', 'ended_at', 'start_station_name', 'end_station_name'</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>monthly_rides_dv <span class="op">=</span> pd.read_csv(<span class="st">'data/Monthly_Bike_Trips.csv'</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># In the Quarterly 1 data set, we care about the columns: 'start_time', 'end_time', 'from_station_name', 'to_station_name'</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>quarterly_rides_dv <span class="op">=</span> pd.read_csv(<span class="st">'data/Quarterly_Bike_Trips.csv'</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># In the Quarterly 2 data set, we care about the columns: '01 - Rental Details Local Start Time', '01 - Rental Details Local End Time','03 - Rental Start Station Name', '02 - Rental End Station Name'</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>quarterly_rides_dv_2 <span class="op">=</span> pd.read_csv(<span class="st">'data/Quarterly_Bike_Trips_2.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="8" type="1">
<li></li>
</ol>
<div id="2171b159" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># merging the quarterly data into one concat'd dataset</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#creating dictionaries to prepare for renaming columns in relevant datasets.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>quarterly_rides_dv_2 <span class="op">=</span> quarterly_rides_dv_2.rename(columns <span class="op">=</span> {</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"01 - Rental Details Local Start Time"</span> : <span class="st">"start_time"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"01 - Rental Details Local End Time"</span> : <span class="st">"end_time"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"03 - Rental Start Station Name"</span> : <span class="st">"from_station_name"</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"02 - Rental End Station Name"</span> : <span class="st">"to_station_name"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>monthly_rides_dv <span class="op">=</span> monthly_rides_dv.rename(columns <span class="op">=</span> {</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"started_at"</span> : <span class="st">"start_time"</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ended_at"</span> : <span class="st">"end_time"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"start_station_name"</span> : <span class="st">"from_station_name"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"end_station_name"</span> : <span class="st">"to_station_name"</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co">#matching all of the names of the datasets.</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>quarterly_rides_dv_2 <span class="op">=</span> quarterly_rides_dv_2[[<span class="st">"start_time"</span>, <span class="st">"end_time"</span>, <span class="st">"from_station_name"</span>, <span class="st">"to_station_name"</span>]]</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>quarterly_rides_dv <span class="op">=</span> quarterly_rides_dv[[<span class="st">"start_time"</span>, <span class="st">"end_time"</span>, <span class="st">"from_station_name"</span>, <span class="st">"to_station_name"</span>]]</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>monthly_rides_dv <span class="op">=</span> monthly_rides_dv[[<span class="st">"start_time"</span>, <span class="st">"end_time"</span>, <span class="st">"from_station_name"</span>, <span class="st">"to_station_name"</span>]]</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co">#creating one large dataset</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>quarterly_rides <span class="op">=</span> pd.concat([quarterly_rides_dv, quarterly_rides_dv_2, monthly_rides_dv], axis <span class="op">=</span> <span class="dv">0</span>)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co">#verifying that data is in correct format.</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>quarterly_rides[<span class="st">'start_time'</span>] <span class="op">=</span> pd.to_datetime(quarterly_rides[<span class="st">"start_time"</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'mixed'</span>)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>quarterly_rides[<span class="st">"end_time"</span>] <span class="op">=</span> pd.to_datetime(quarterly_rides[<span class="st">"end_time"</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'mixed'</span>)</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>quarterly_rides[<span class="st">'year_month'</span>] <span class="op">=</span> quarterly_rides[<span class="st">'start_time'</span>].dt.strftime(<span class="st">'%Y-%m'</span>)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by station and the year_month, and count the rides for each group</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>rides_per_station_per_month <span class="op">=</span> quarterly_rides.groupby([<span class="st">'from_station_name'</span>, <span class="st">'year_month'</span>]).size().reset_index(name<span class="op">=</span><span class="st">'ride_count'</span>)</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the result</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>rides_per_station_per_month.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">from_station_name</th>
<th data-quarto-table-cell-role="th">year_month</th>
<th data-quarto-table-cell-role="th">ride_count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Cornell Ave &amp; Hyde Park Blvd</td>
<td>2018-01</td>
<td>98</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Cornell Ave &amp; Hyde Park Blvd</td>
<td>2018-02</td>
<td>94</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Cornell Ave &amp; Hyde Park Blvd</td>
<td>2018-03</td>
<td>164</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Cornell Ave &amp; Hyde Park Blvd</td>
<td>2018-04</td>
<td>203</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Cornell Ave &amp; Hyde Park Blvd</td>
<td>2018-05</td>
<td>375</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ol start="9" type="1">
<li></li>
</ol>
<div id="eb3db9a4" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># creating a year column</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>rides_per_station_per_month[<span class="st">"year"</span>] <span class="op">=</span> pd.to_datetime(rides_per_station_per_month[<span class="st">'year_month'</span>]).dt.year</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#filtering for pre and post covid, for the purpose of visualizations</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>rides_per_station_per_month_2017 <span class="op">=</span> rides_per_station_per_month[rides_per_station_per_month[<span class="st">"year"</span>] <span class="op">&lt;</span> <span class="dv">2020</span>]</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>rides_per_station_per_month_2020 <span class="op">=</span> rides_per_station_per_month[rides_per_station_per_month[<span class="st">"year"</span>] <span class="op">&gt;=</span> <span class="dv">2020</span>]</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>lasagna2017 <span class="op">=</span>  alt.Chart(rides_per_station_per_month_2017).mark_rect().encode(</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'year_month:N'</span>, title<span class="op">=</span><span class="st">'Year-Month'</span>, sort<span class="op">=</span><span class="va">None</span>), </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'from_station_name:N'</span>, title<span class="op">=</span><span class="st">'Station Name'</span>), </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'ride_count:Q'</span>, scale<span class="op">=</span>alt.Scale(scheme<span class="op">=</span><span class="st">'blues'</span>), title<span class="op">=</span><span class="st">'Ride Count'</span>),  </span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Monthly Divvy Rides per Station pre Covid, Hyde Park"</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>lasagna2020 <span class="op">=</span>  alt.Chart(rides_per_station_per_month_2020).mark_rect().encode(</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'year_month:N'</span>, title<span class="op">=</span><span class="st">'Year-Month'</span>, sort<span class="op">=</span><span class="va">None</span>), </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'from_station_name:N'</span>, title<span class="op">=</span><span class="st">'Station Name'</span>),</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span>alt.Color(<span class="st">'ride_count:Q'</span>, scale<span class="op">=</span>alt.Scale(scheme<span class="op">=</span><span class="st">'blues'</span>), title<span class="op">=</span><span class="st">'Ride Count'</span>), </span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Monthly Divvy Rides per Station post Covid, Hyde Park"</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b70db237" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>lasagna2017 <span class="op">|</span> lasagna2020</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">

<style>
  #altair-viz-6801b454c0d2457b9279c74be8769d2e.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-6801b454c0d2457b9279c74be8769d2e.vega-embed details,
  #altair-viz-6801b454c0d2457b9279c74be8769d2e.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-6801b454c0d2457b9279c74be8769d2e"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-6801b454c0d2457b9279c74be8769d2e") {
      outputDiv = document.getElementById("altair-viz-6801b454c0d2457b9279c74be8769d2e");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"data": {"name": "data-dc6b42beb0ada68ee5c413a8f6879a35"}, "mark": {"type": "rect"}, "encoding": {"color": {"field": "ride_count", "scale": {"scheme": "blues"}, "title": "Ride Count", "type": "quantitative"}, "x": {"field": "year_month", "sort": null, "title": "Year-Month", "type": "nominal"}, "y": {"field": "from_station_name", "title": "Station Name", "type": "nominal"}}, "height": 400, "title": "Monthly Divvy Rides per Station pre Covid, Hyde Park", "width": 800}, {"data": {"name": "data-66c98491d6e83eae0a9efb639df8b1cd"}, "mark": {"type": "rect"}, "encoding": {"color": {"field": "ride_count", "scale": {"scheme": "blues"}, "title": "Ride Count", "type": "quantitative"}, "x": {"field": "year_month", "sort": null, "title": "Year-Month", "type": "nominal"}, "y": {"field": "from_station_name", "title": "Station Name", "type": "nominal"}}, "height": 400, "title": "Monthly Divvy Rides per Station post Covid, Hyde Park", "width": 800}], "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json", "datasets": {"data-dc6b42beb0ada68ee5c413a8f6879a35": [{"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-01", "ride_count": 98, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-02", "ride_count": 94, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-03", "ride_count": 164, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-04", "ride_count": 203, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-05", "ride_count": 375, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-06", "ride_count": 301, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-07", "ride_count": 412, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-08", "ride_count": 400, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-09", "ride_count": 316, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-10", "ride_count": 321, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-11", "ride_count": 156, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2018-12", "ride_count": 97, "year": 2018}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-01", "ride_count": 47, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-02", "ride_count": 68, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-03", "ride_count": 116, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-04", "ride_count": 217, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-05", "ride_count": 297, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-06", "ride_count": 339, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-07", "ride_count": 384, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-08", "ride_count": 434, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-09", "ride_count": 419, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-10", "ride_count": 426, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-11", "ride_count": 233, "year": 2019}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2019-12", "ride_count": 155, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-01", "ride_count": 119, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-02", "ride_count": 108, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-03", "ride_count": 166, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-04", "ride_count": 236, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-05", "ride_count": 369, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-06", "ride_count": 257, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-07", "ride_count": 316, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-08", "ride_count": 265, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-09", "ride_count": 355, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-10", "ride_count": 376, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-11", "ride_count": 276, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2018-12", "ride_count": 179, "year": 2018}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-01", "ride_count": 167, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-02", "ride_count": 198, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-03", "ride_count": 201, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-04", "ride_count": 224, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-05", "ride_count": 282, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-06", "ride_count": 307, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-07", "ride_count": 365, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-08", "ride_count": 332, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-09", "ride_count": 315, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-10", "ride_count": 368, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-11", "ride_count": 238, "year": 2019}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2019-12", "ride_count": 158, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-01", "ride_count": 162, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-02", "ride_count": 144, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-03", "ride_count": 210, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-04", "ride_count": 271, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-05", "ride_count": 435, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-06", "ride_count": 332, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-07", "ride_count": 315, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-08", "ride_count": 521, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-09", "ride_count": 617, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-10", "ride_count": 730, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-11", "ride_count": 378, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2018-12", "ride_count": 217, "year": 2018}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-01", "ride_count": 194, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-02", "ride_count": 221, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-03", "ride_count": 253, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-04", "ride_count": 346, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-05", "ride_count": 414, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-06", "ride_count": 427, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-07", "ride_count": 473, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-08", "ride_count": 547, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-09", "ride_count": 649, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-10", "ride_count": 820, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-11", "ride_count": 466, "year": 2019}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2019-12", "ride_count": 221, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-01", "ride_count": 59, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-02", "ride_count": 50, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-03", "ride_count": 73, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-04", "ride_count": 84, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-05", "ride_count": 110, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-06", "ride_count": 116, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-07", "ride_count": 142, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-08", "ride_count": 118, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-09", "ride_count": 147, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-10", "ride_count": 155, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-11", "ride_count": 122, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2018-12", "ride_count": 96, "year": 2018}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-01", "ride_count": 66, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-02", "ride_count": 53, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-03", "ride_count": 75, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-04", "ride_count": 91, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-05", "ride_count": 122, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-06", "ride_count": 137, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-07", "ride_count": 159, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-08", "ride_count": 144, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-09", "ride_count": 162, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-10", "ride_count": 302, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-11", "ride_count": 170, "year": 2019}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2019-12", "ride_count": 96, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-01", "ride_count": 147, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-02", "ride_count": 184, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-03", "ride_count": 272, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-04", "ride_count": 297, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-05", "ride_count": 471, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-06", "ride_count": 425, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-07", "ride_count": 491, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-08", "ride_count": 519, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-09", "ride_count": 658, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-10", "ride_count": 852, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-11", "ride_count": 492, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2018-12", "ride_count": 273, "year": 2018}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-01", "ride_count": 237, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-02", "ride_count": 244, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-03", "ride_count": 306, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-04", "ride_count": 476, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-05", "ride_count": 634, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-06", "ride_count": 532, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-07", "ride_count": 530, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-08", "ride_count": 591, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-09", "ride_count": 643, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-10", "ride_count": 877, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-11", "ride_count": 529, "year": 2019}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2019-12", "ride_count": 305, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-01", "ride_count": 58, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-02", "ride_count": 63, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-03", "ride_count": 111, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-04", "ride_count": 110, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-05", "ride_count": 243, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-06", "ride_count": 201, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-07", "ride_count": 297, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-08", "ride_count": 359, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-09", "ride_count": 327, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-10", "ride_count": 266, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-11", "ride_count": 146, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2018-12", "ride_count": 91, "year": 2018}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-01", "ride_count": 73, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-02", "ride_count": 66, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-03", "ride_count": 99, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-04", "ride_count": 156, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-05", "ride_count": 235, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-06", "ride_count": 259, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-07", "ride_count": 323, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-08", "ride_count": 276, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-09", "ride_count": 345, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-10", "ride_count": 285, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-11", "ride_count": 154, "year": 2019}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2019-12", "ride_count": 103, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-01", "ride_count": 130, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-02", "ride_count": 112, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-03", "ride_count": 177, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-04", "ride_count": 167, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-05", "ride_count": 259, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-06", "ride_count": 256, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-07", "ride_count": 282, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-08", "ride_count": 361, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-09", "ride_count": 332, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-10", "ride_count": 354, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-11", "ride_count": 242, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2018-12", "ride_count": 152, "year": 2018}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-01", "ride_count": 171, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-02", "ride_count": 168, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-03", "ride_count": 235, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-04", "ride_count": 267, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-05", "ride_count": 357, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-06", "ride_count": 368, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-07", "ride_count": 447, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-08", "ride_count": 447, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-09", "ride_count": 385, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-10", "ride_count": 443, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-11", "ride_count": 232, "year": 2019}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2019-12", "ride_count": 154, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-01", "ride_count": 129, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-02", "ride_count": 98, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-03", "ride_count": 199, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-04", "ride_count": 210, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-05", "ride_count": 506, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-06", "ride_count": 567, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-07", "ride_count": 741, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-08", "ride_count": 690, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-09", "ride_count": 536, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-10", "ride_count": 342, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-11", "ride_count": 142, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2018-12", "ride_count": 102, "year": 2018}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-01", "ride_count": 105, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-02", "ride_count": 77, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-03", "ride_count": 149, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-04", "ride_count": 311, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-05", "ride_count": 404, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-06", "ride_count": 490, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-07", "ride_count": 672, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-08", "ride_count": 602, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-09", "ride_count": 497, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-10", "ride_count": 356, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-11", "ride_count": 145, "year": 2019}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2019-12", "ride_count": 108, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-01", "ride_count": 314, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-02", "ride_count": 327, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-03", "ride_count": 453, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-04", "ride_count": 586, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-05", "ride_count": 820, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-06", "ride_count": 609, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-07", "ride_count": 627, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-08", "ride_count": 757, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-09", "ride_count": 843, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-10", "ride_count": 1087, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-11", "ride_count": 620, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2018-12", "ride_count": 392, "year": 2018}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-01", "ride_count": 342, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-02", "ride_count": 416, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-03", "ride_count": 437, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-04", "ride_count": 705, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-05", "ride_count": 844, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-06", "ride_count": 722, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-07", "ride_count": 650, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-08", "ride_count": 650, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-09", "ride_count": 729, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-10", "ride_count": 1282, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-11", "ride_count": 753, "year": 2019}, {"from_station_name": "University Ave & 57th St", "year_month": "2019-12", "ride_count": 386, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-01", "ride_count": 101, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-02", "ride_count": 64, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-03", "ride_count": 114, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-04", "ride_count": 151, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-05", "ride_count": 257, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-06", "ride_count": 187, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-07", "ride_count": 212, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-08", "ride_count": 254, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-09", "ride_count": 336, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-10", "ride_count": 283, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-11", "ride_count": 171, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2018-12", "ride_count": 103, "year": 2018}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-01", "ride_count": 76, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-02", "ride_count": 114, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-03", "ride_count": 135, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-04", "ride_count": 176, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-05", "ride_count": 270, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-06", "ride_count": 221, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-07", "ride_count": 259, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-08", "ride_count": 257, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-09", "ride_count": 274, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-10", "ride_count": 451, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-11", "ride_count": 259, "year": 2019}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2019-12", "ride_count": 128, "year": 2019}], "data-66c98491d6e83eae0a9efb639df8b1cd": [{"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-04", "ride_count": 88, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-05", "ride_count": 217, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-06", "ride_count": 470, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-07", "ride_count": 720, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-08", "ride_count": 772, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-09", "ride_count": 502, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-10", "ride_count": 359, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-11", "ride_count": 272, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2020-12", "ride_count": 131, "year": 2020}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-01", "ride_count": 110, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-02", "ride_count": 66, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-03", "ride_count": 226, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-04", "ride_count": 316, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-05", "ride_count": 400, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-06", "ride_count": 490, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-07", "ride_count": 529, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-08", "ride_count": 518, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-09", "ride_count": 533, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-10", "ride_count": 483, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-11", "ride_count": 288, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2021-12", "ride_count": 191, "year": 2021}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-01", "ride_count": 90, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-02", "ride_count": 164, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-03", "ride_count": 260, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-04", "ride_count": 327, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-05", "ride_count": 566, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-06", "ride_count": 723, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-07", "ride_count": 767, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-08", "ride_count": 643, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-09", "ride_count": 593, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-11", "ride_count": 300, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2022-12", "ride_count": 139, "year": 2022}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-01", "ride_count": 192, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-02", "ride_count": 143, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-03", "ride_count": 181, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-04", "ride_count": 355, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-05", "ride_count": 478, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-06", "ride_count": 484, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-07", "ride_count": 494, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-08", "ride_count": 560, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-09", "ride_count": 531, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-10", "ride_count": 499, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-11", "ride_count": 354, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2023-12", "ride_count": 204, "year": 2023}, {"from_station_name": "Cornell Ave & Hyde Park Blvd", "year_month": "2024-01", "ride_count": 144, "year": 2024}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-04", "ride_count": 84, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-05", "ride_count": 160, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-06", "ride_count": 283, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-07", "ride_count": 313, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-08", "ride_count": 426, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-09", "ride_count": 348, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-10", "ride_count": 346, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-11", "ride_count": 257, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2020-12", "ride_count": 140, "year": 2020}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-01", "ride_count": 143, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-02", "ride_count": 84, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-03", "ride_count": 218, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-04", "ride_count": 292, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-05", "ride_count": 531, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-06", "ride_count": 431, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-07", "ride_count": 390, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-08", "ride_count": 446, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-09", "ride_count": 486, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-10", "ride_count": 502, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-11", "ride_count": 318, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2021-12", "ride_count": 153, "year": 2021}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-01", "ride_count": 147, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-02", "ride_count": 198, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-03", "ride_count": 192, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-04", "ride_count": 249, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-05", "ride_count": 446, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-06", "ride_count": 465, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-07", "ride_count": 523, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-08", "ride_count": 389, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-09", "ride_count": 302, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-11", "ride_count": 259, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2022-12", "ride_count": 116, "year": 2022}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-01", "ride_count": 229, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-02", "ride_count": 213, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-03", "ride_count": 148, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-04", "ride_count": 267, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-05", "ride_count": 364, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-06", "ride_count": 352, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-07", "ride_count": 320, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-08", "ride_count": 446, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-09", "ride_count": 453, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-10", "ride_count": 610, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-11", "ride_count": 360, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2023-12", "ride_count": 169, "year": 2023}, {"from_station_name": "Ellis Ave & 53rd St", "year_month": "2024-01", "ride_count": 185, "year": 2024}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-04", "ride_count": 36, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-05", "ride_count": 84, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-06", "ride_count": 131, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-07", "ride_count": 215, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-08", "ride_count": 286, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-09", "ride_count": 295, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-10", "ride_count": 443, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-11", "ride_count": 315, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2020-12", "ride_count": 121, "year": 2020}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-01", "ride_count": 180, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-02", "ride_count": 107, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-03", "ride_count": 279, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-04", "ride_count": 368, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-05", "ride_count": 501, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-06", "ride_count": 341, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-07", "ride_count": 195, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-08", "ride_count": 457, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-09", "ride_count": 781, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-10", "ride_count": 1119, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-11", "ride_count": 764, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2021-12", "ride_count": 263, "year": 2021}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-01", "ride_count": 236, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-02", "ride_count": 371, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-03", "ride_count": 462, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-04", "ride_count": 591, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-05", "ride_count": 994, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-06", "ride_count": 895, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-07", "ride_count": 1036, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-08", "ride_count": 868, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-09", "ride_count": 942, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-11", "ride_count": 855, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2022-12", "ride_count": 286, "year": 2022}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-01", "ride_count": 560, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-02", "ride_count": 483, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-03", "ride_count": 478, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-04", "ride_count": 755, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-05", "ride_count": 768, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-06", "ride_count": 691, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-07", "ride_count": 747, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-08", "ride_count": 866, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-09", "ride_count": 945, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-10", "ride_count": 1154, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-11", "ride_count": 835, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2023-12", "ride_count": 303, "year": 2023}, {"from_station_name": "Ellis Ave & 55th St", "year_month": "2024-01", "ride_count": 448, "year": 2024}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-04", "ride_count": 41, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-05", "ride_count": 84, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-06", "ride_count": 119, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-07", "ride_count": 154, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-08", "ride_count": 163, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-09", "ride_count": 159, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-10", "ride_count": 181, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-11", "ride_count": 89, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2020-12", "ride_count": 39, "year": 2020}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-01", "ride_count": 74, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-02", "ride_count": 51, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-03", "ride_count": 97, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-04", "ride_count": 155, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-05", "ride_count": 181, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-06", "ride_count": 129, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-07", "ride_count": 157, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-08", "ride_count": 175, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-09", "ride_count": 269, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-10", "ride_count": 455, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-11", "ride_count": 272, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2021-12", "ride_count": 94, "year": 2021}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-01", "ride_count": 67, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-02", "ride_count": 118, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-03", "ride_count": 111, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-04", "ride_count": 214, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-05", "ride_count": 354, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-06", "ride_count": 244, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-07", "ride_count": 168, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-08", "ride_count": 160, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-09", "ride_count": 281, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-11", "ride_count": 327, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2022-12", "ride_count": 119, "year": 2022}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-01", "ride_count": 213, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-02", "ride_count": 160, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-03", "ride_count": 183, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-04", "ride_count": 313, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-05", "ride_count": 366, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-06", "ride_count": 144, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-07", "ride_count": 150, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-08", "ride_count": 149, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-09", "ride_count": 152, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-10", "ride_count": 144, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-11", "ride_count": 108, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2023-12", "ride_count": 58, "year": 2023}, {"from_station_name": "Harper Ave & 59th St", "year_month": "2024-01", "ride_count": 54, "year": 2024}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-04", "ride_count": 150, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-05", "ride_count": 288, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-06", "ride_count": 376, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-07", "ride_count": 564, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-08", "ride_count": 648, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-09", "ride_count": 568, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-10", "ride_count": 557, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-11", "ride_count": 347, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2020-12", "ride_count": 135, "year": 2020}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-01", "ride_count": 169, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-02", "ride_count": 107, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-03", "ride_count": 357, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-04", "ride_count": 565, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-05", "ride_count": 733, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-06", "ride_count": 691, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-07", "ride_count": 697, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-08", "ride_count": 762, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-09", "ride_count": 961, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-10", "ride_count": 1101, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-11", "ride_count": 619, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2021-12", "ride_count": 291, "year": 2021}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-01", "ride_count": 203, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-02", "ride_count": 303, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-03", "ride_count": 378, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-04", "ride_count": 535, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-05", "ride_count": 1006, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-06", "ride_count": 1188, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-07", "ride_count": 1394, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-08", "ride_count": 1176, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-09", "ride_count": 1148, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-11", "ride_count": 891, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2022-12", "ride_count": 338, "year": 2022}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-01", "ride_count": 552, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-02", "ride_count": 499, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-03", "ride_count": 494, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-04", "ride_count": 922, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-05", "ride_count": 1085, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-06", "ride_count": 965, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-07", "ride_count": 1019, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-08", "ride_count": 954, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-09", "ride_count": 936, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-10", "ride_count": 1254, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-11", "ride_count": 883, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2023-12", "ride_count": 362, "year": 2023}, {"from_station_name": "Kimbark Ave & 53rd St", "year_month": "2024-01", "ride_count": 456, "year": 2024}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-04", "ride_count": 41, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-05", "ride_count": 114, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-06", "ride_count": 283, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-07", "ride_count": 464, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-08", "ride_count": 543, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-09", "ride_count": 381, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-10", "ride_count": 260, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-11", "ride_count": 177, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2020-12", "ride_count": 82, "year": 2020}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-01", "ride_count": 59, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-02", "ride_count": 28, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-03", "ride_count": 170, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-04", "ride_count": 293, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-05", "ride_count": 388, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-06", "ride_count": 462, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-07", "ride_count": 411, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-08", "ride_count": 378, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-09", "ride_count": 487, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-10", "ride_count": 408, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-11", "ride_count": 178, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2021-12", "ride_count": 116, "year": 2021}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-01", "ride_count": 63, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-02", "ride_count": 103, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-03", "ride_count": 134, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-04", "ride_count": 204, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-05", "ride_count": 458, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-06", "ride_count": 563, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-07", "ride_count": 618, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-08", "ride_count": 549, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-09", "ride_count": 409, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-11", "ride_count": 286, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2022-12", "ride_count": 92, "year": 2022}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-01", "ride_count": 175, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-02", "ride_count": 141, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-03", "ride_count": 148, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-04", "ride_count": 231, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-05", "ride_count": 350, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-06", "ride_count": 420, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-07", "ride_count": 449, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-08", "ride_count": 469, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-09", "ride_count": 492, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-10", "ride_count": 511, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-11", "ride_count": 284, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2023-12", "ride_count": 137, "year": 2023}, {"from_station_name": "Lake Park Ave & 53rd St", "year_month": "2024-01", "ride_count": 116, "year": 2024}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-04", "ride_count": 56, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-05", "ride_count": 159, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-06", "ride_count": 309, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-07", "ride_count": 462, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-08", "ride_count": 499, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-09", "ride_count": 432, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-10", "ride_count": 335, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-11", "ride_count": 275, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2020-12", "ride_count": 97, "year": 2020}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-01", "ride_count": 113, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-02", "ride_count": 67, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-03", "ride_count": 167, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-04", "ride_count": 322, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-05", "ride_count": 403, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-06", "ride_count": 396, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-07", "ride_count": 402, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-08", "ride_count": 467, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-09", "ride_count": 472, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-10", "ride_count": 487, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-11", "ride_count": 315, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2021-12", "ride_count": 157, "year": 2021}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-01", "ride_count": 137, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-02", "ride_count": 175, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-03", "ride_count": 229, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-04", "ride_count": 297, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-05", "ride_count": 524, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-06", "ride_count": 559, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-07", "ride_count": 585, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-08", "ride_count": 460, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-09", "ride_count": 514, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-11", "ride_count": 374, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2022-12", "ride_count": 175, "year": 2022}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-01", "ride_count": 298, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-02", "ride_count": 273, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-03", "ride_count": 260, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-04", "ride_count": 394, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-05", "ride_count": 633, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-06", "ride_count": 575, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-07", "ride_count": 558, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-08", "ride_count": 642, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-09", "ride_count": 593, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-10", "ride_count": 791, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-11", "ride_count": 550, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2023-12", "ride_count": 267, "year": 2023}, {"from_station_name": "Lake Park Ave & 56th St", "year_month": "2024-01", "ride_count": 251, "year": 2024}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-04", "ride_count": 76, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-05", "ride_count": 267, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-06", "ride_count": 744, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-07", "ride_count": 1533, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-08", "ride_count": 1390, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-09", "ride_count": 989, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-10", "ride_count": 609, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-11", "ride_count": 375, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2020-12", "ride_count": 141, "year": 2020}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-01", "ride_count": 135, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-02", "ride_count": 49, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-03", "ride_count": 375, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-04", "ride_count": 643, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-05", "ride_count": 904, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-06", "ride_count": 1000, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-07", "ride_count": 965, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-08", "ride_count": 820, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-09", "ride_count": 917, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-10", "ride_count": 663, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-11", "ride_count": 351, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2021-12", "ride_count": 234, "year": 2021}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-01", "ride_count": 155, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-02", "ride_count": 152, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-03", "ride_count": 288, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-04", "ride_count": 367, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-05", "ride_count": 897, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-06", "ride_count": 969, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-07", "ride_count": 920, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-08", "ride_count": 815, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-09", "ride_count": 737, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-11", "ride_count": 258, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2022-12", "ride_count": 127, "year": 2022}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-01", "ride_count": 143, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-02", "ride_count": 136, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-03", "ride_count": 179, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-04", "ride_count": 563, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-05", "ride_count": 791, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-06", "ride_count": 725, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-07", "ride_count": 857, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-08", "ride_count": 701, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-09", "ride_count": 698, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-10", "ride_count": 556, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-11", "ride_count": 350, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2023-12", "ride_count": 143, "year": 2023}, {"from_station_name": "Shore Dr & 55th St", "year_month": "2024-01", "ride_count": 148, "year": 2024}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-04", "ride_count": 61, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-05", "ride_count": 193, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-06", "ride_count": 285, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-07", "ride_count": 523, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-08", "ride_count": 596, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-09", "ride_count": 525, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-10", "ride_count": 672, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-11", "ride_count": 468, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2020-12", "ride_count": 178, "year": 2020}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-01", "ride_count": 264, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-02", "ride_count": 129, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-03", "ride_count": 452, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-04", "ride_count": 561, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-05", "ride_count": 842, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-06", "ride_count": 572, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-07", "ride_count": 717, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-08", "ride_count": 831, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-09", "ride_count": 1203, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-10", "ride_count": 1927, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-11", "ride_count": 1236, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2021-12", "ride_count": 508, "year": 2021}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-01", "ride_count": 329, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-02", "ride_count": 590, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-03", "ride_count": 783, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-04", "ride_count": 1108, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-05", "ride_count": 1833, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-06", "ride_count": 1195, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-07", "ride_count": 1197, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-08", "ride_count": 950, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-09", "ride_count": 1277, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-11", "ride_count": 1486, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2022-12", "ride_count": 452, "year": 2022}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-01", "ride_count": 1061, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-02", "ride_count": 929, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-03", "ride_count": 947, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-04", "ride_count": 1589, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-05", "ride_count": 1633, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-06", "ride_count": 955, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-07", "ride_count": 1043, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-08", "ride_count": 1065, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-09", "ride_count": 1221, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-10", "ride_count": 1976, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-11", "ride_count": 1327, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2023-12", "ride_count": 482, "year": 2023}, {"from_station_name": "University Ave & 57th St", "year_month": "2024-01", "ride_count": 649, "year": 2024}, {"from_station_name": "University Ave & 59th St", "year_month": "2023-08", "ride_count": 14, "year": 2023}, {"from_station_name": "University Ave & 59th St", "year_month": "2023-09", "ride_count": 282, "year": 2023}, {"from_station_name": "University Ave & 59th St", "year_month": "2023-10", "ride_count": 512, "year": 2023}, {"from_station_name": "University Ave & 59th St", "year_month": "2023-11", "ride_count": 308, "year": 2023}, {"from_station_name": "University Ave & 59th St", "year_month": "2023-12", "ride_count": 75, "year": 2023}, {"from_station_name": "University Ave & 59th St", "year_month": "2024-01", "ride_count": 128, "year": 2024}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-04", "ride_count": 34, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-05", "ride_count": 96, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-06", "ride_count": 144, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-07", "ride_count": 212, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-08", "ride_count": 277, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-09", "ride_count": 337, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-10", "ride_count": 394, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-11", "ride_count": 239, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2020-12", "ride_count": 42, "year": 2020}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-01", "ride_count": 131, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-02", "ride_count": 63, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-03", "ride_count": 183, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-04", "ride_count": 304, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-05", "ride_count": 460, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-06", "ride_count": 409, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-07", "ride_count": 336, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-08", "ride_count": 416, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-09", "ride_count": 578, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-10", "ride_count": 686, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-11", "ride_count": 442, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2021-12", "ride_count": 164, "year": 2021}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-01", "ride_count": 152, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-02", "ride_count": 212, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-03", "ride_count": 310, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-04", "ride_count": 405, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-05", "ride_count": 611, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-06", "ride_count": 617, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-07", "ride_count": 634, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-08", "ride_count": 506, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-09", "ride_count": 618, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-11", "ride_count": 432, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2022-12", "ride_count": 146, "year": 2022}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-01", "ride_count": 274, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-02", "ride_count": 271, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-03", "ride_count": 265, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-04", "ride_count": 559, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-05", "ride_count": 730, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-06", "ride_count": 522, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-07", "ride_count": 600, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-08", "ride_count": 581, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-09", "ride_count": 730, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-10", "ride_count": 957, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-11", "ride_count": 612, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2023-12", "ride_count": 200, "year": 2023}, {"from_station_name": "Woodlawn Ave & 55th St", "year_month": "2024-01", "ride_count": 284, "year": 2024}, {"from_station_name": "Woodlawn Ave & 58th St", "year_month": "2023-09", "ride_count": 256, "year": 2023}, {"from_station_name": "Woodlawn Ave & 58th St", "year_month": "2023-10", "ride_count": 623, "year": 2023}, {"from_station_name": "Woodlawn Ave & 58th St", "year_month": "2023-11", "ride_count": 432, "year": 2023}, {"from_station_name": "Woodlawn Ave & 58th St", "year_month": "2023-12", "ride_count": 140, "year": 2023}, {"from_station_name": "Woodlawn Ave & 58th St", "year_month": "2024-01", "ride_count": 181, "year": 2024}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<ol start="10" type="1">
<li></li>
</ol>
<div id="da5db820" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average rides per month</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month <span class="op">=</span> rides_per_station_per_month.groupby(<span class="st">'year_month'</span>)[<span class="st">'ride_count'</span>].mean().reset_index(name<span class="op">=</span><span class="st">'avg_ride_count'</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract year and month to filter data by full years</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month[<span class="st">"year_month"</span>] <span class="op">=</span> pd.to_datetime(avg_rides_per_month[<span class="st">"year_month"</span>])</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month[<span class="st">'year'</span>] <span class="op">=</span> avg_rides_per_month[<span class="st">'year_month'</span>].dt.year</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month[<span class="st">'month'</span>] <span class="op">=</span> avg_rides_per_month[<span class="st">'year_month'</span>].dt.month</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>months <span class="op">=</span> {</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>: <span class="st">"January"</span>, </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="dv">2</span>: <span class="st">"February"</span>, </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">3</span>: <span class="st">"March"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">4</span>: <span class="st">"April"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span>: <span class="st">"May"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">6</span>: <span class="st">"June"</span>,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="dv">7</span>: <span class="st">"July"</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="dv">8</span>: <span class="st">"August"</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="dv">9</span>: <span class="st">"September"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="dv">10</span>: <span class="st">"October"</span>, </span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="dv">11</span>: <span class="st">"November"</span>,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="dv">12</span>: <span class="st">"December"</span>}</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month_filtered <span class="op">=</span> avg_rides_per_month</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month_filtered[<span class="st">"month"</span>] <span class="op">=</span> avg_rides_per_month[<span class="st">"month"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: months[x]).astype(<span class="bu">str</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>avg_rides_per_month_filtered_groupby <span class="op">=</span> avg_rides_per_month_filtered.groupby(<span class="st">"month"</span>).mean().reset_index()</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="co"># making the bar graph</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>bar_chart_divvy <span class="op">=</span> alt.Chart(avg_rides_per_month_filtered_groupby).mark_bar().encode(</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'month:N'</span>, sort<span class="op">=</span>[<span class="st">'January'</span>, <span class="st">'February'</span>, <span class="st">'March'</span>, <span class="st">'April'</span>, <span class="st">'May'</span>, <span class="st">'June'</span>, <span class="st">'July'</span>, </span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'August'</span>, <span class="st">'September'</span>, <span class="st">'October'</span>, <span class="st">'November'</span>, <span class="st">'December'</span>]),</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'avg_ride_count:Q'</span>,  </span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>, </span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span> <span class="st">"Average Divvy Monthly Ridership, Hyde Park"</span>  </span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>bar_chart_divvy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">

<style>
  #altair-viz-f90623d1773e46b7bc809933ca34fa02.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-f90623d1773e46b7bc809933ca34fa02.vega-embed details,
  #altair-viz-f90623d1773e46b7bc809933ca34fa02.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-f90623d1773e46b7bc809933ca34fa02"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f90623d1773e46b7bc809933ca34fa02") {
      outputDiv = document.getElementById("altair-viz-f90623d1773e46b7bc809933ca34fa02");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.8.0"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-d931dbe4524243992a0dc4169bd245c1"}, "mark": {"type": "bar"}, "encoding": {"x": {"field": "month", "sort": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], "type": "nominal"}, "y": {"field": "avg_ride_count", "type": "quantitative"}}, "height": 400, "title": "Average Divvy Monthly Ridership, Hyde Park", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json", "datasets": {"data-d931dbe4524243992a0dc4169bd245c1": [{"month": "April", "year_month": "2020-09-30T04:00:00", "avg_ride_count": 333.5833333333333, "year": 2020.5}, {"month": "August", "year_month": "2021-01-30T04:00:00", "avg_ride_count": 529.5151515151515, "year": 2020.5}, {"month": "December", "year_month": "2021-06-01T04:00:00", "avg_ride_count": 181.66111111111113, "year": 2020.5}, {"month": "February", "year_month": "2020-09-07T14:24:00", "avg_ride_count": 185.07999999999998, "year": 2020.6}, {"month": "January", "year_month": "2021-03-02T12:00:00", "avg_ride_count": 199.7611111111111, "year": 2021.1666666666667}, {"month": "July", "year_month": "2020-12-30T04:00:00", "avg_ride_count": 535.5833333333334, "year": 2020.5}, {"month": "June", "year_month": "2020-11-30T04:00:00", "avg_ride_count": 472.8166666666666, "year": 2020.5}, {"month": "March", "year_month": "2020-10-05T14:24:00", "avg_ride_count": 257.98, "year": 2020.6}, {"month": "May", "year_month": "2020-10-30T04:00:00", "avg_ride_count": 493.26666666666665, "year": 2020.5}, {"month": "November", "year_month": "2021-05-02T04:00:00", "avg_ride_count": 405.41388888888883, "year": 2020.5}, {"month": "October", "year_month": "2020-12-12T14:24:00", "avg_ride_count": 607.0433333333333, "year": 2020.2}, {"month": "September", "year_month": "2021-03-02T04:00:00", "avg_ride_count": 550.0527777777778, "year": 2020.5}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<ol start="11" type="1">
<li></li>
</ol>
<div id="2f7c646b" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#creating the file that nasser needs for the dashboard</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>quarterly_rides[<span class="st">"year_month"</span>] <span class="op">=</span> pd.to_datetime(quarterly_rides[<span class="st">"year_month"</span>])</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>quarterly_rides[<span class="st">"month"</span>] <span class="op">=</span> quarterly_rides[<span class="st">"year_month"</span>].dt.month</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>quarterly_rides_groupby <span class="op">=</span> quarterly_rides.groupby(<span class="st">"month"</span>).count().reset_index().drop([<span class="st">"end_time"</span>, <span class="st">"from_station_name"</span>, <span class="st">"to_station_name"</span>, <span class="st">"year_month"</span>], axis <span class="op">=</span> <span class="dv">1</span>).rename(columns <span class="op">=</span> {<span class="st">"start_time"</span> : <span class="st">"count"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>